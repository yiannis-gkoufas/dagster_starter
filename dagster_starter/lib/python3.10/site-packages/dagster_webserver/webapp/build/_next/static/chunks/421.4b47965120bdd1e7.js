"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{18774:function(e,t,n){n.d(t,{$H:function(){return buildAssetGroupSelector},Lg:function(){return AssetGroupSuggest},eB:function(){return useAssetGroupSelectorsForAssets}});var r=n(52322),s=n(58931),i=n(71897),o=n(44678),a=n(18399),l=n(82585),c=n(18149),u=n.n(c),d=n(84636),p=n.n(d),h=n(2784),f=n(68912),m=n(37160);function useAssetGroupSelectorsForAssets(e){return h.useMemo(function(){return p()((e||[]).map(buildAssetGroupSelector).filter(function(e){return!!e}),function(e){return JSON.stringify(e)}).sort(function(e,t){return e.groupName.localeCompare(t.groupName)})},[e])}var x={groupName:"-",repositoryLocationName:"-",repositoryName:"-"},AssetGroupSuggest=function(e){var t=e.assetGroups,n=e.value,c=e.onChange,repoKey=function(e){return"".concat(e.repositoryName,"@").concat(e.repositoryLocationName)},d=t[0]?repoKey(t[0]):"",p=!t.every(function(e){return d===repoKey(e)});return(0,r.jsx)(s.U5,{selectedItem:n.length?x:null,items:t,menuWidth:300,inputProps:{style:{width:200},placeholder:"Filter asset groupsâ€¦",rightElement:n.length?(0,r.jsx)(f.C,{onClick:function(){return c([])},style:{marginTop:5,marginRight:4},children:(0,r.jsx)(i.JO,{name:"cancel"})}):void 0},inputValueRenderer:function(){return 1===n.length?n[0].groupName:n.length>1?"".concat(n.length," groups"):""},itemPredicate:function(e,t){return 0===e.length||t.groupName.toLowerCase().includes(e.toLowerCase())},itemsEqual:u(),itemRenderer:function(e,t){return(0,r.jsx)(o.sN,{active:t.modifiers.active,onClick:t.handleClick,text:(0,r.jsxs)(a.x,{flex:{direction:"row",gap:6,alignItems:"center"},margin:{left:4},style:{maxWidth:"500px"},children:[(0,r.jsx)(l.X,{checked:n.some(function(t){return u()(t,e)}),size:"small",readOnly:!0}),(0,r.jsx)(a.x,{flex:{direction:"row",alignItems:"center",grow:1,shrink:1},style:{overflow:"hidden"},children:(0,r.jsxs)("div",{style:{overflow:"hidden"},children:[e.groupName,p?(0,r.jsx)("span",{style:{opacity:.5,paddingLeft:4},children:(0,m.At)(e.repositoryName,e.repositoryLocationName)}):void 0]})})]})},JSON.stringify(e))},noResults:(0,r.jsx)(o.sN,{disabled:!0,text:"No asset groups"}),closeOnSelect:!1,resetOnQuery:!1,onItemSelect:function(e){var t=n.filter(function(t){return!u()(e,t)});t.length===n.length&&t.push(e),c(t)}})};function buildAssetGroupSelector(e){return e.definition&&e.definition.groupName?{groupName:e.definition.groupName,repositoryName:e.definition.repository.name,repositoryLocationName:e.definition.repository.location.name}:null}},28090:function(e,t,n){n.d(t,{R:function(){return AssetLink}});var r=n(82550),s=n(52322),i=n(18399),o=n(71897),a=n(86412),l=n(16861);n(2784);var c=n(47933),u=n(74711),AssetLink=function(e){var t=e.path,n=e.icon,d=e.url,p=e.isGroup,h=e.textStyle,f=d||(0,u.p)({path:t}),m=t.reduce(function(e,t,n){return(0,r._)(e).concat([n>0?" / ":"",t])},[]).join("")+(p?"/":"");return(0,s.jsxs)(i.x,{flex:{direction:"row",alignItems:"flex-start",display:"inline-flex"},style:{maxWidth:"100%"},children:[n?(0,s.jsx)(i.x,{margin:{right:8,top:2},children:(0,s.jsx)(o.JO,{name:n,color:a.w.Gray400})}):null,(0,s.jsx)(c.rU,{to:f,style:{overflow:"hidden"},children:"break-word"===(void 0===h?"break-word":h)?(0,s.jsx)("span",{style:{wordBreak:"break-word"},children:m}):(0,s.jsx)(l.g,{text:m})})]})}},62175:function(e,t,n){n.d(t,{s:function(){return i},v:function(){return o}});var r=n(73235),s=n(60138);function _templateObject(){var e=(0,r._)(["\n  fragment AssetTableDefinitionFragment on AssetNode {\n    id\n    groupName\n    opNames\n    isSource\n    isObservable\n    isExecutable\n    computeKind\n    hasMaterializePermission\n    partitionDefinition {\n      description\n    }\n    description\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){var e=(0,r._)(["\n  fragment AssetTableFragment on Asset {\n    id\n    key {\n      path\n    }\n    definition {\n      id\n      ...AssetTableDefinitionFragment\n    }\n  }\n\n  ","\n"]);return _templateObject1=function(){return e},e}var i=(0,s.Ps)(_templateObject()),o=(0,s.Ps)(_templateObject1(),i)},65885:function(e,t,n){n.d(t,{C1:function(){return Y},fv:function(){return AssetsCatalogTable}});var r=n(58467),s=n(73235),i=n(82550),o=n(52322),a=n(40794),l=n(60138),c=n(18399),u=n(99596),d=n(34822),p=n(18149),h=n.n(p),f=n(2784),m=n(91195),x=n(56266),g=n(55237),y=n(71277),j=n(90894),v=n(18774),w=n(85333),b=n(6692),A=n(92364),S=n(82585),_=n(86412),C=n(43180),N=n(9001),k=n(71897),O=n(37783),z=n(44678),T=n(3440),P=n.n(T),I=n(54949),K=n(73689),M=n(68052),F=n(68577),q=n(55658),E=n(90537),R=n(37160),VirtualizedAssetTable=function(e){var t=e.headerCheckbox,n=e.prefixPath,s=e.groups,a=e.checkedDisplayKeys,l=e.onToggleFactory,c=e.onWipe,u=e.showRepoColumn,d=e.view,p=void 0===d?"flat":d,h=f.useRef(null),m=Object.keys(s).length,x=(0,F.useVirtualizer)({count:m,getScrollElement:function(){return h.current},estimateSize:function(){return 64},overscan:5}),g=x.getTotalSize(),y=x.getVirtualItems(),j=f.useMemo(function(){return Object.entries(s).map(function(e){var t=(0,r._)(e,2),s=t[0],o=t[1],a=(0,i._)(n).concat((0,i._)(JSON.parse(s)));return o.length>1||a.join("/")!==o[0].key.path.join("/")?{type:"folder",path:a,displayKey:s,assets:o}:{type:"asset",path:a,displayKey:s,asset:o[0]}})},[n,s]);return(0,o.jsx)("div",{style:{overflow:"hidden"},children:(0,o.jsxs)(q.W2,{ref:h,children:[(0,o.jsx)(E.R_,{headerCheckbox:t,view:p}),(0,o.jsx)(q.Nh,{$totalHeight:g,children:y.map(function(e){var t=e.index,n=e.key,r=e.size,s=e.start,i=j[t],d="folder"===i.type?i.assets:[i.asset];return(0,o.jsx)(E.pN,{view:p,type:"folder"===i.type?"folder":i.asset.definition?"asset":"asset_non_sda",path:i.path,definition:"asset"===i.type?i.asset.definition:null,repoAddress:function(){if("folder"===i.type||!i.asset.definition)return null;var e=i.asset.definition.repository;return(0,R.kQ)(e.name,e.location.name)}(),showCheckboxColumn:!0,showRepoColumn:u,height:r,start:s,checked:a.has(i.displayKey),onToggleChecked:l(i.displayKey),onWipe:function(){return c(d.map(function(e){return e.key}))}},n)})})]})})},W=n(81862),G=n(22970),L=n(33379),J=n(10952),V=n(59692),U=n(35157),$=n(60130);function _templateObject(){var e=(0,s._)(["\n  mutation AssetWipeMutation($assetKeys: [AssetKeyInput!]!) {\n    wipeAssets(assetKeys: $assetKeys) {\n      ... on AssetWipeSuccess {\n        assetKeys {\n          path\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return _templateObject=function(){return e},e}var AssetWipeDialog=function(e){var t,n=e.assetKeys,s=e.isOpen,i=e.onClose,a=e.onComplete,l=e.requery,c=(0,r._)((0,L.D)(D,{variables:{assetKeys:n.map($.W1)},refetchQueries:l}),1)[0],u=(t=(0,W._)(function(){return(0,G.Jh)(this,function(e){switch(e.label){case 0:if(!n.length)return[2];return[4,c()];case 1:return e.sent(),a(n),[2]}})}),function(){return t.apply(this,arguments)});return(0,o.jsxs)(J.Vq,{isOpen:s,title:"Wipe materializations",onClose:i,style:{width:600},children:[(0,o.jsx)(J.a7,{children:(0,o.jsxs)(V.Z,{direction:"column",spacing:16,children:[(0,o.jsx)("div",{children:"Are you sure you want to wipe materializations for these assets?"}),(0,o.jsx)("ul",{style:{paddingLeft:32,margin:0},children:n.map(function(e){var t=(0,U.ll)(e);return(0,o.jsx)("li",{style:{marginBottom:4},children:t},t)})}),(0,o.jsx)("div",{children:"Assets defined only by their historical materializations will disappear from the Asset Catalog. Software-defined assets will remain unless their definition is also deleted."}),(0,o.jsx)("strong",{children:"This action cannot be undone."})]})}),(0,o.jsxs)(J.cN,{topBorder:!0,children:[(0,o.jsx)(N.zx,{intent:"none",onClick:i,children:"Cancel"}),(0,o.jsx)(N.zx,{intent:"danger",onClick:u,children:"Wipe"})]})]})},D=(0,l.Ps)(_templateObject(),m.B),B=n(53521),AssetTable=function(e){var t=e.assets,n=e.actionBarComponents,s=e.refreshState,a=e.prefixPath,l=e.displayPathForAsset,u=e.requery,d=e.searchPath,p=e.searchGroups,h=e.view,m=(0,r._)(f.useState(),2),x=m[0],y=m[1],j=P()(t,function(e){return JSON.stringify(l(e))}),v=Object.keys(j).sort(),O=(0,r._)((0,K.a)(v),2),z=O[0].checkedIds,T=O[1],I=T.onToggleFactory,F=T.onToggleAll,q=[];return v.forEach(function(e){z.has(e)&&q.push.apply(q,(0,i._)(j[e]||[]))}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(c.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,o.jsxs)(c.x,{background:_.w.White,flex:{alignItems:"center",gap:12},padding:{vertical:8,left:24,right:12},style:{position:"sticky",top:0,zIndex:1},children:[n,(0,o.jsx)("div",{style:{flex:1}}),(0,o.jsx)(g.xi,{refreshState:s}),(0,o.jsxs)(c.x,{flex:{alignItems:"center",gap:8},children:[q.some(function(e){return!e.definition})?(0,o.jsx)(C.u,{content:"One or more selected assets are not software-defined and cannot be launched directly.",children:(0,o.jsx)(N.zx,{intent:"primary","data-testid":(0,M.N)("materialize-button"),icon:(0,o.jsx)(k.JO,{name:"materialization"}),disabled:!0,children:q.length>1?"Materialize (".concat(q.length.toLocaleString(),")"):"Materialize"})}):(0,o.jsx)(B.XE,{scope:{selected:q.map(function(e){return(0,b._)((0,w._)({},e.definition),{assetKey:e.key})})}}),(0,o.jsx)(H,{selected:q,clearSelection:function(){return F(!1)}})]})]}),function(){if(!t.length){var e,n;return d?(0,o.jsx)(c.x,{padding:{top:64},children:(0,o.jsx)(A.t,{icon:"search",title:"No matching assets",description:p.length?(0,o.jsxs)("div",{children:["No assets matching ",(0,o.jsx)("strong",{children:d})," were found in"," ",1===p.length?(0,o.jsx)("strong",{children:null===(n=p[0])||void 0===n?void 0:n.groupName}):"the selected asset groups"]}):(0,o.jsxs)("div",{children:["No assets matching ",(0,o.jsx)("strong",{children:d})," were found"]})})}):(0,o.jsx)(c.x,{padding:{top:20},children:(0,o.jsx)(A.t,{icon:"search",title:"No assets",description:p.length?(0,o.jsxs)("div",{children:["No assets were found in"," ",1===p.length?(0,o.jsx)("strong",{children:null===(e=p[0])||void 0===e?void 0:e.groupName}):"the selected asset groups"]}):"No assets were found"})})}return(0,o.jsx)(VirtualizedAssetTable,{headerCheckbox:(0,o.jsx)(S.X,{indeterminate:z.size>0&&z.size!==v.length,checked:z.size>0&&z.size===v.length,onChange:function(e){e.target instanceof HTMLInputElement&&F(z.size!==v.length)}}),prefixPath:a,groups:j,checkedDisplayKeys:z,onToggleFactory:I,showRepoColumn:!0,view:h,onWipe:function(e){return y(e)}})}()]}),(0,o.jsx)(AssetWipeDialog,{assetKeys:x||[],isOpen:!!x,onClose:function(){return y(void 0)},onComplete:function(){return y(void 0)},requery:u})]})},H=f.memo(function(e){var t=e.selected,n=e.clearSelection,s=e.requery,i=(0,r._)(f.useState(!1),2),a=i[0],l=i[1];if(!(0,I.WB)().permissions.canWipeAssets)return null;var c=0===t.length;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(O.J,{position:"bottom-right",content:(0,o.jsx)(z.v2,{children:(0,o.jsx)(z.sN,{text:"Wipe materializations",onClick:function(){return l(!0)},icon:(0,o.jsx)(k.JO,{name:"delete",color:c?_.w.Gray600:_.w.Red500}),disabled:c,intent:"danger"})}),children:(0,o.jsx)(N.zx,{icon:(0,o.jsx)(k.JO,{name:"expand_more"})})}),(0,o.jsx)(AssetWipeDialog,{assetKeys:t.map(function(e){return e.key}),isOpen:a,onClose:function(){return l(!1)},onComplete:function(){l(!1),n()},requery:s})]})}),Q=n(62175),AssetsEmptyState=function(e){var t=e.prefixPath;return(0,o.jsx)(A.t,{icon:"asset",title:"Assets",description:(0,o.jsxs)("p",{children:[t&&t.length?"There are no matching materialized assets with the specified asset key. ":"There are no known materialized assets. ","Any asset keys that have been specified with an ",(0,o.jsx)("code",{children:"AssetMaterialization"})," during a pipeline run will appear here. See the"," ",(0,o.jsx)("a",{href:"https://docs.dagster.io/_apidocs/ops#dagster.AssetMaterialization",children:"AssetMaterialization documentation"})," ","for more information."]})})},X=n(88983),Z=n(15282),validateSavedAssetView=function(e){return"flat"===e||"directory"===e?e:"flat"};function AssetsCatalogTable_templateObject(){var e=(0,s._)(["\n  query AssetCatalogTableQuery {\n    assetsOrError {\n      ... on AssetConnection {\n        nodes {\n          id\n          ...AssetTableFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return AssetsCatalogTable_templateObject=function(){return e},e}function _templateObject1(){var e=(0,s._)(["\n  query AssetCatalogGroupTableQuery($group: AssetGroupSelector) {\n    assetNodes(group: $group) {\n      id\n      ...AssetCatalogGroupTableNode\n    }\n  }\n\n  fragment AssetCatalogGroupTableNode on AssetNode {\n    id\n    assetKey {\n      path\n    }\n    ...AssetTableDefinitionFragment\n  }\n\n  ","\n"]);return _templateObject1=function(){return e},e}var AssetsCatalogTable=function(e){var t,n,s,l,p,m=e.prefixPath,w=e.setPrefixPath,b=e.groupSelector,A=(0,r._)((0,Z.U)("AssetViewPreference",validateSavedAssetView),2),S=A[0],_=A[1],C=(0,r._)((0,y.q)({queryKey:"q"}),2),N=C[0],k=C[1],O=(0,r._)((0,y.q)({queryKey:"g",decode:function(e){return e.groups?JSON.parse(e.groups):[]},encode:function(e){return{groups:e.length?JSON.stringify(e):void 0}}}),2),z=O[0],T=O[1],P=(N||"").replace(/(( ?> ?)|\.|\/)/g,"/").toLowerCase().trim(),I=(l=(0,a.a)(Y,{skip:!!b,notifyOnNetworkStatusChange:!0}),p=(0,a.a)(ee,{skip:!b,variables:{group:b},notifyOnNetworkStatusChange:!0}),f.useMemo(function(){if(b){var e,t,n=null===(t=p.data)||void 0===t?void 0:t.assetNodes;return{query:p,error:void 0,assets:null==n?void 0:n.map(definitionToAssetTableFragment)}}var r=null===(e=l.data)||void 0===e?void 0:e.assetsOrError;return{query:l,error:(null==r?void 0:r.__typename)==="PythonError"?r:void 0,assets:(null==r?void 0:r.__typename)==="AssetConnection"?r.nodes:void 0}},[l,p,b])),K=I.assets,M=I.query,F=I.error,q=(0,v.eB)(K),E=(0,X.f)(P,K||[]),R=f.useMemo(function(){return E.filter(function(e){return!z.length||z.some(function(t){return h()((0,v.$H)(e),t)})})},[E,z]),W="flat"===S?{displayed:R,displayPathForAsset:function(e){return e.key.path}}:(t=function(e){return e.key.path.slice(m.length,m.length+1)},n=R.filter(function(e){return e.key.path.join(",").startsWith(m.join(","))}),s=Array.from(new Set(n.map(function(e){return JSON.stringify(t(e))}))).map(function(e){return JSON.parse(e)}).sort(),{displayPathForAsset:t,displayed:filterAssetsByNamespace(n,s.map(function(e){return(0,i._)(m).concat((0,i._)(e))}))}),G=W.displayPathForAsset,L=W.displayed,J=(0,g.C4)(M,g.dT);return(f.useEffect(function(){"directory"!==S&&m.length&&_("directory")},[S,_,m]),F)?(0,o.jsx)(x.T9,{error:F}):K?K.length?(0,o.jsx)(AssetTable,{view:S,assets:L,actionBarComponents:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.h,{activeItems:new Set([S]),buttons:[{id:"flat",icon:"view_list",tooltip:"List view"},{id:"directory",icon:"folder",tooltip:"Folder view"}],onClick:function(e){_(e),"flat"===e&&m.length&&w([])}}),(0,o.jsx)(d.oi,{value:N||"",style:{width:"30vw",minWidth:150,maxWidth:400},placeholder:m.length?"Filter asset keys in ".concat(m.join("/"),"â€¦"):"Filter asset keysâ€¦",onChange:function(e){return k(e.target.value)}}),b?void 0:(0,o.jsx)(v.Lg,{assetGroups:q,value:z,onChange:T})]}),refreshState:J,prefixPath:m||[],searchPath:P,searchGroups:z,displayPathForAsset:G,requery:function(e){return[{query:Y}]}}):(0,o.jsx)(c.x,{padding:{vertical:64},children:(0,o.jsx)(AssetsEmptyState,{prefixPath:m})}):(0,o.jsx)(j.T,{purpose:"page"})},Y=(0,l.Ps)(AssetsCatalogTable_templateObject(),Q.v,m.B),ee=(0,l.Ps)(_templateObject1(),Q.s);function definitionToAssetTableFragment(e){return{__typename:"Asset",id:e.id,key:e.assetKey,definition:e}}var filterAssetsByNamespace=function(e,t){return e.filter(function(e){return t.some(function(t){return t.every(function(t,n){return t===e.key.path[n]})})})}},88983:function(e,t,n){n.d(t,{f:function(){return useAssetSearch},h:function(){return useAssetNodeSearch}});var r=n(2784),s=n(35157),useSanitizedAssetSearch=function(e){return r.useMemo(function(){return(e||"").replace(/(( ?> ?)|\.|\/)/g,"/").toLowerCase().trim()},[e])},useAssetSearch=function(e,t){var n=useSanitizedAssetSearch(e);return r.useMemo(function(){return n?t.filter(function(e){return(0,s.Je)(e.key).toLowerCase().includes(n)}):t},[t,n])},useAssetNodeSearch=function(e,t){var n=useSanitizedAssetSearch(e);return r.useMemo(function(){return n?t.filter(function(e){return(0,s.Je)(e.assetKey).toLowerCase().includes(n)}):t},[t,n])}},63386:function(e,t,n){n.d(t,{b:function(){return RepositoryLink}});var r=n(73235),s=n(52322),i=n(18399),o=n(71897),a=n(86412),l=n(16861),c=n(63832),u=n(43180);n(2784);var d=n(47933),p=n(35505),h=n(44254),f=n(38153),m=n(33308);function _templateObject(){var e=(0,r._)(["\n  max-width: 280px;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){var e=(0,r._)(["\n  margin-left: 4px;\n\n  && {\n    display: block;\n  }\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){var e=(0,r._)(["\n  background-color: transparent;\n  border: 0;\n  cursor: pointer;\n  display: block;\n  padding: 0;\n  margin: 0;\n\n  :disabled {\n    cursor: default;\n  }\n\n  :focus:not(:focus-visible) {\n    outline: none;\n  }\n\n  & "," {\n    display: block;\n    transition: color 100ms linear;\n  }\n\n  :hover "," {\n    color: ",";\n  }\n"]);return _templateObject2=function(){return e},e}var RepositoryLink=function(e){var t=e.repoAddress,n=e.showIcon,r=e.showRefresh,u=t.location,d=(0,h.Uz)(t);return(0,s.jsxs)(i.x,{flex:{display:"inline-flex",direction:"row",alignItems:"center"},title:d,children:[void 0!==n&&n&&(0,s.jsx)(o.JO,{name:"folder",style:{marginRight:8},color:a.w.Gray400}),(0,s.jsx)(x,{to:(0,f.$U)(t),style:{flex:1},children:(0,s.jsx)(l.g,{text:d})}),void 0===r||r?(0,s.jsx)(m.s,{location:u,ChildComponent:function(e){var t=e.codeLocation,n=e.tryReload,r=e.reloading,i=e.hasReloadPermission;return(0,s.jsx)(g,{content:i?r?"Reloadingâ€¦":(0,s.jsxs)(s.Fragment,{children:["Reload location ",(0,s.jsx)("strong",{children:t})]}):m.H,children:r?(0,s.jsx)(c.$,{purpose:"body-text"}):(0,s.jsx)(y,{disabled:!i,onClick:n,children:(0,s.jsx)(o.JO,{name:"refresh",color:i?a.w.Gray400:a.w.Gray300})})})}}):null]})},x=(0,p.ZP)(d.rU).withConfig({componentId:"sc-d9c923a0-0"})(_templateObject()),g=(0,p.ZP)(u.u).withConfig({componentId:"sc-d9c923a0-1"})(_templateObject1()),y=p.ZP.button.withConfig({componentId:"sc-d9c923a0-2"})(_templateObject2(),o.a1,o.a1,a.w.Blue500)},12518:function(e,t,n){n.d(t,{I:function(){return ScheduleOrSensorTag}});var r=n(58467),s=n(52322),i=n(57830),o=n(12084),a=n(86412),l=n(18399),c=n(43180),u=n(3842),d=n(16861),p=n(2784),h=n(47933),f=n(66207),m=n(54483),x=n(23054),g=n(38153),y=n(17668),ScheduleOrSensorTag=function(e){var t=e.schedules,n=e.sensors,l=e.repoAddress,c=e.showSwitch,u=void 0===c||c,d=(0,r._)(p.useState(!1),2),h=d[0],f=d[1],m=t.length,x=n.length;return m>1||x>1||m&&x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.V,{icon:m>1?"schedule":"sensors",children:(0,s.jsx)(o.Z,{onClick:function(){return f(!0)},color:a.w.Link,children:m&&x?"".concat(m+x," schedules/sensors"):m?"".concat(m," schedules"):"".concat(x," sensors")})}),(0,s.jsx)(y.f,{isOpen:h,onClose:function(){return f(!1)},repoAddress:l,schedules:t,sensors:n,showSwitch:u})]}):m?(0,s.jsx)(MatchingSchedule,{schedule:t[0],repoAddress:l,showSwitch:u}):x?(0,s.jsx)(MatchingSensor,{sensor:n[0],repoAddress:l,showSwitch:u}):null},MatchingSchedule=function(e){var t=e.schedule,n=e.repoAddress,r=e.showSwitch,o=t.cronSchedule,a=t.executionTimezone,d="RUNNING"===t.scheduleState.status,p=(0,s.jsx)(i.V,{intent:d?"primary":"none",icon:"schedule",children:(0,s.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,s.jsx)(h.rU,{to:(0,g.$U)(n,"/schedules/".concat(t.name)),style:{overflow:"hidden",textOverflow:"ellipsis"},children:(0,m.A)(o,a||"UTC")}),r?(0,s.jsx)(f.M,{size:"small",repoAddress:n,schedule:t}):null]})});return t.cronSchedule?(0,s.jsx)(c.u,{placement:"top-start",content:(0,s.jsxs)(l.x,{flex:{direction:"column",gap:4},children:[(0,s.jsxs)("div",{children:["Name: ",(0,s.jsx)("strong",{children:t.name})]}),(0,s.jsxs)("div",{children:["Cron:"," ",(0,s.jsxs)("span",{style:{fontFamily:u.b.monospace,marginLeft:"4px"},children:["(",t.cronSchedule,")"]})]}),(0,s.jsxs)("div",{children:["Timezone: ",(0,s.jsx)("strong",{children:t.executionTimezone||"UTC"})]})]}),children:p}):p},MatchingSensor=function(e){var t=e.sensor,n=e.repoAddress,r=e.showSwitch,o="RUNNING"===t.sensorState.status;return(0,s.jsx)(i.V,{intent:o?"primary":"none",icon:"sensors",children:(0,s.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,s.jsx)(h.rU,{to:(0,g.$U)(n,"/sensors/".concat(t.name)),style:{maxWidth:200,overflow:"hidden"},children:(0,s.jsx)(d.g,{text:t.name})}),r?(0,s.jsx)(x.c,{size:"small",repoAddress:n,sensor:t}):null]})})}},65767:function(e,t,n){n.d(t,{l:function(){return useCursorPaginatedQuery}});var r=n(85333),s=n(6692),i=n(58467),o=n(82550),a=n(40794),l=n(2784),c=n(71277);function useCursorPaginatedQuery(e){var t=(0,i._)(l.useState(function(){return[]}),2),n=t[0],u=t[1],d=(0,i._)((0,c.q)({queryKey:"cursor"}),2),p=d[0],h=d[1],f=(0,s._)((0,r._)({},e.variables),{cursor:p,limit:e.pageSize+1}),m=(0,a.a)(e.query,{skip:e.skip,variables:f,notifyOnNetworkStatusChange:!0}),x={hasPrevCursor:!!p,hasNextCursor:e.getResultArray(m.data).length===e.pageSize+1,popCursor:function(){var e=(0,o._)(n);h(e.pop()),u(e)},advanceCursor:function(){p&&u(function(e){return(0,o._)(e).concat([p])});var t=m.data&&e.nextCursorForResult(m.data);t&&h(t)},reset:function(){u([]),h(void 0)}};return{queryResult:m,paginationProps:x}}},90537:function(e,t,n){n.d(t,{R_:function(){return VirtualizedAssetCatalogHeader},XC:function(){return VirtualizedAssetHeader},pN:function(){return VirtualizedAssetRow}});var r=n(85333),s=n(6692),i=n(58467),o=n(73235),a=n(52322),l=n(40794),c=n(60138),u=n(82585),d=n(18399),p=n(81308),h=n(86412),f=n(71897),m=n(2784),x=n(47933),g=n(35505),y=n(69643),j=n(99322),v=n(2253),w=n(35157),b=n(37783),A=n(44678),S=n(43180),_=n(63832),C=n(9001),N=n(54949),k=n(5035),O=n(38153),z=n(53521),T=n(74711),AssetActionMenu=function(e){var t=e.repoAddress,n=e.path,r=e.definition,s=e.onWipe,i=(0,N.xz)(null==t?void 0:t.location).permissions.canWipeAssets,o=(0,z.DO)(),l=o.onClick,c=o.loading,u=o.launchpadElement,d=r?(0,z.Vu)([r]):"Asset definition not found in a code location";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.J,{position:"bottom-right",content:(0,a.jsxs)(A.v2,{children:[(0,a.jsx)(S.u,{content:d||"Shift+click to add configuration",placement:"left",display:"block",useDisabledButtonTooltipFix:!0,children:(0,a.jsx)(A.sN,{text:"Materialize",icon:c?(0,a.jsx)(_.$,{purpose:"body-text"}):"materialization",disabled:!!d||c,onClick:function(e){return l([{path:n}],e)}})}),(0,a.jsx)(k.U,{text:"Show in group",to:t&&(null==r?void 0:r.groupName)?(0,O.$U)(t,"/asset-groups/".concat(r.groupName)):"",disabled:!r,icon:"asset_group"}),(0,a.jsx)(k.U,{text:"View neighbors",to:(0,T.p)({path:n},{view:"lineage",lineageScope:"neighbors"}),disabled:!r,icon:"graph_neighbors"}),(0,a.jsx)(k.U,{text:"View upstream assets",to:(0,T.p)({path:n},{view:"lineage",lineageScope:"upstream"}),disabled:!r,icon:"graph_upstream"}),(0,a.jsx)(k.U,{text:"View downstream assets",to:(0,T.p)({path:n},{view:"lineage",lineageScope:"downstream"}),disabled:!r,icon:"graph_downstream"}),(0,a.jsx)(A.sN,{text:"Wipe materializations",icon:"delete",disabled:!s||!i,intent:"danger",onClick:function(){return i&&s&&s([{path:n}])}})]}),children:(0,a.jsx)(C.zx,{icon:(0,a.jsx)(f.JO,{name:"expand_more"})})}),u]})},P=n(28090),I=n(58885),K=n(14952),M=n(11331),F=n(63386),q=n(30301),E=n(68052),R=n(55658);function _templateObject(){var e=(0,o._)(["\n  display: grid;\n  grid-template-columns: ",";\n  height: 100%;\n"]);return _templateObject=function(){return e},e}function _templateObject1(){var e=(0,o._)(["\n  query SingleNonSDAAssetQuery($input: AssetKeyInput!) {\n    assetOrError(assetKey: $input) {\n      ... on Asset {\n        id\n        assetMaterializations(limit: 1) {\n          runId\n          timestamp\n        }\n      }\n    }\n  }\n"]);return _templateObject1=function(){return e},e}var W="1.3fr 1fr 80px",G="76px 1.3fr 1.3fr 1.3fr 80px",VirtualizedAssetRow=function(e){var t,n,o,c,g,b,A,S=e.path,_=e.definition,C=e.type,N=e.repoAddress,k=e.start,z=e.height,W=e.checked,G=e.onToggleChecked,V=e.onWipe,U=e.showCheckboxColumn,$=e.showRepoColumn,D=e.view,B=(n=(t=(0,i._)(m.useState([]),2))[0],o=t[1],c=n[0]||"",g=(0,y.YP)("asset"===C?n:[]).liveDataByNode,b=(0,l.a)(J,{skip:"asset_non_sda"!==C||!c,variables:{input:c}}).data,(m.useEffect(function(){if("folder"!==C){var e=setTimeout(function(){o(S?[{path:S}]:[])},250);return function(){return clearTimeout(e)}}},[C,S]),"asset"===C)?g[(0,w.Je)({path:S})]:"asset_non_sda"===C?(0,s._)((0,r._)({},w.Se),{lastMaterialization:(null==b?void 0:b.assetOrError.__typename)==="Asset"&&b.assetOrError.assetMaterializations[0]?b.assetOrError.assetMaterializations[0]:null}):null),H=(0,T.p)({path:S});return(0,a.jsx)(R.X2,{$height:z,$start:k,"data-testid":(0,E.N)("row-".concat((0,w.Je)({path:S}))),children:(0,a.jsxs)(L,{border:"bottom",$showRepoColumn:$,children:[void 0!==U&&U?(0,a.jsx)(R.E5,{children:(0,a.jsx)(u.X,{checked:W,onChange:function(e){G&&e.target instanceof HTMLInputElement&&G({checked:e.target.checked,shiftKey:e.nativeEvent instanceof MouseEvent&&e.nativeEvent.getModifierState("Shift")})}})}):null,(0,a.jsxs)(R.E5,{children:[(0,a.jsxs)(d.x,{flex:{alignItems:"center"},children:[(0,a.jsx)("div",{style:{flex:1,minWidth:0},children:(0,a.jsx)(P.R,{path:"folder"===C||"directory"===(void 0===D?"flat":D)?S.slice(-1):S,url:H,isGroup:"folder"===C,icon:C,textStyle:"middle-truncate"})}),_&&(0,a.jsx)(M.hG,{reduceColor:!0,reduceText:!0,definition:_,style:{position:"relative"}})]}),(0,a.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,a.jsx)(p.YS,{style:{color:h.w.Gray500,whiteSpace:"nowrap"},children:null==_?void 0:_.description})})]}),$?(0,a.jsx)(R.E5,{children:N?(0,a.jsxs)(d.x,{flex:{direction:"column",gap:4},style:{maxWidth:"100%",overflow:"hidden"},children:[(0,a.jsx)(F.b,{repoAddress:N,showIcon:!0,showRefresh:!1}),_&&_.groupName?(0,a.jsx)(x.rU,{to:(0,O.$U)(N,"/asset-groups/".concat(_.groupName)),children:(0,a.jsxs)(d.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,a.jsx)(f.JO,{color:h.w.Gray400,name:"asset_group"}),_.groupName]})}):null]}):(0,a.jsx)("span",{children:"â€“"})}):null,(0,a.jsx)(R.E5,{children:(null==_?void 0:_.partitionDefinition)?(0,a.jsxs)(d.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,a.jsx)(I.ux,{partitionStats:null==B?void 0:B.partitionStats}),(0,a.jsx)(p.YS,{children:(0,I._e)(null==B?void 0:null===(A=B.partitionStats)||void 0===A?void 0:A.numPartitions)})]}):(0,a.jsxs)(d.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[_?(0,a.jsx)(d.x,{style:{whiteSpace:"nowrap"},flex:{direction:"row",alignItems:"center",gap:8},children:(0,j.D5)({assetKey:{path:S},definition:_,expanded:!0,liveData:B}).content}):(null==B?void 0:B.lastMaterialization)?(0,a.jsx)(v.T,{assetKey:{path:S},runId:B.lastMaterialization.runId,event:{stepKey:B.stepKey,timestamp:B.lastMaterialization.timestamp},children:(0,a.jsx)(q.v,{timestamp:Number(B.lastMaterialization.timestamp)/1e3,timeFormat:{showSeconds:!1,showTimezone:!1}})}):(0,a.jsx)("div",{style:{color:h.w.Gray500},children:B||"folder"===C?"â€“":"Loading"}),B&&(0,a.jsx)(K.f4,{assetKey:{path:S},liveData:B,include:"all"})]})}),(0,a.jsx)(R.E5,{children:"folder"!==C?(0,a.jsx)(AssetActionMenu,{path:S,definition:_,repoAddress:N,onWipe:V}):null})]})})},VirtualizedAssetCatalogHeader=function(e){var t=e.headerCheckbox,n=e.view;return(0,a.jsxs)(d.x,{background:h.w.White,border:"top-and-bottom",style:{display:"grid",gridTemplateColumns:G,height:"32px",fontSize:"12px",color:h.w.Gray600,position:"sticky",top:0,zIndex:1},children:[(0,a.jsx)(R.qN,{children:t}),(0,a.jsx)(R.qN,{children:"flat"===n?"Asset name":"Asset key prefix"}),(0,a.jsx)(R.qN,{children:"Code location / Asset group"}),(0,a.jsx)(R.qN,{children:"Status"}),(0,a.jsx)(R.qN,{})]})},VirtualizedAssetHeader=function(e){var t=e.nameLabel;return(0,a.jsxs)(d.x,{border:"top-and-bottom",style:{display:"grid",gridTemplateColumns:W,height:"32px",fontSize:"12px",color:h.w.Gray600},children:[(0,a.jsx)(R.qN,{children:t}),(0,a.jsx)(R.qN,{children:"Status"}),(0,a.jsx)(R.qN,{})]})},L=(0,g.ZP)(d.x).withConfig({componentId:"sc-a8613b90-0"})(_templateObject(),function(e){return e.$showRepoColumn?G:W}),J=(0,c.Ps)(_templateObject1())}}]);
//# sourceMappingURL=421.4b47965120bdd1e7.js.map